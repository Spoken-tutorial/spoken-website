{% extends 'spoken/templates/base.html' %}
{% load widget_tweaks %}
{% load static %}
{% block title %}Advance Online Test{% endblock %}
{% block heading %}
        <i class="fa fa-list-ul"></i> Advance Online Test As A Resource Person<a href="{% url 'events:events_dashboard' %}" class='pull-right'>Dashboard</a>
{% endblock %}
{% block content %}
<ul class="tabs nav nav-tabs">
    <li {% if status == 2 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 2 %}"> Requested </a>
    </li>
    <li {% if status == 3 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 3 %}"> Approved </a>
    </li>
    <li {% if status == 4 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 4 %}"> Inprogress/Invigilated </a>
    </li>
    <li {% if status == 5 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 5 %}"> Completed </a>
    </li>
    <li {% if status == 20 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 20 %}"> Rejected by Invigilator </a>
    </li>
    <li {% if status == 30 %} class="active" {% endif %}>
        <a href="{% url 'events:advance_tests_rp' 30 %}"> Rejected </a>
    </li>
</ul>
    <table class="paleblue table table-striped table-hover table-bordered">
        {% if advance_tests %}
            <tr>
                <th> # </th>
                <th> State </th>
                <th> Academic Code </th>
                <th> Institution </th>
                <th> Organiser </th>
                <th> FOSS </th>
                <th> Date </th>
                <th> Participants </th>
                <th> View </th>
                <th> Status </th>
            </tr>
        {% else %}
            <p> Nothing here right now. Check other tabs </p>
        {% endif %}
        {% for test in advance_tests %}
            <tr>
                <td>{{ forloop.counter }}
                <td>{{ test.organiser.academic.state }}</td>
                <td>{{ test.organiser.academic.academic_code}}</td>
                <td>{{ test.organiser.academic }}</td>
                <td>{{ test.organiser.user.first_name }}</td>
                <td>{{ test.test.foss.foss }}</td>
                <td>{{ test.date_time|date:"d M Y" }}</td>
                <td>{{ test.get_students_count }}</td>
                <td><a href="{% url 'events:view_advance_participants' test.id %}"> Participants </a></td>
                {% if status == 2 %}
                    <td>
                        <a href="{% url 'events:advance_test_approve_rp' test.id %}">Accept</a> |
                        <a href="{% url 'events:advance_test_reject_rp' test.id %}">Reject</a>
                    </td>
                {% elif status == 3 %}
                    <td>
                        <a href="{% url 'events:advance_test_reject_rp' test.id %}">Reject</a>
                    </td>
                {% elif status == 4 %}
                    <td>
                        Inprogress
                    </td>
                {% elif status == 5 %}
                    <td>
                        Completed
                    </td>
                {% elif status == 20 %}
                    <td>
                        Rejected by Invigilator 
                    </td>
                {% elif status == 30 %}
                    <td>
                        <a href="{% url 'events:advance_test_approve_rp' test.id %}">Accept</a>
                    </td>
                {% endif %}
            </tr>
        {% endfor %}
    </table>
{% endblock %}
